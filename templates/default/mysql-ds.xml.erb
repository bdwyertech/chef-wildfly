<?xml version="1.0" encoding="UTF-8"?>

<!-- Managed by Chef - local changes may be overwritten -->

<datasource jta="false" jndi-name="<%= @jndi_name %>" pool-name="MySQL" enabled="true" use-ccm="false">
    <connection-url>jdbc:mysql://<%= @mysql_server %>:<%= @mysql_port %>/<%= @mysql_db_name %></connection-url>
    <driver-class>com.mysql.jdbc.Driver</driver-class>
    <driver>mysql</driver>
    <pool>
        <min-pool-size><%= @mysql_pool_min %></min-pool-size>
        <max-pool-size><%= @mysql_pool_max %></max-pool-size>
        <prefill>true</prefill>
        <flush-strategy>IdleConnections</flush-strategy>
    </pool>
    <security>
        <user-name><%= @mysql_user %></user-name>
        <password><%= @mysql_pass %></password>
    </security>
    <validation>
        <validate-on-match>false</validate-on-match>
        <background-validation>false</background-validation>
        <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/>
        <exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/>
    </validation>
    <timeout>
        <idle-timeout-minutes><%= @mysql_timeout %></idle-timeout-minutes>
    </timeout>
    <statement>
        <track-statements>true</track-statements>
        <share-prepared-statements>false</share-prepared-statements>
    </statement>
</datasource>